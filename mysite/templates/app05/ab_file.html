<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    {% load static %}
    <link href="{% static 'bootstrap-3.4.1/css/bootstrap.min.css' %}" rel="stylesheet">
    <script src="{% static 'jquery.min.js' %}"></script>
    <script src="{% static 'bootstrap-3.4.1/js/bootstrap.min.js' %}"></script>
</head>
<body>
<p>
    <label for="id_username">username:</label>
    <input type="text" id="id_username" name="username">
</p>

<p>
    <label for="id_password">password:</label>
    <input type="text" id="id_password" name="password">
</p>

<p>
    <label for="id_file">file</label>
    <input type="file" id="id_file">
</p>

<a href="">
    <button id="id_btn" class="btn btn-success">点我</button>
</a>

<script>
    $('#id_btn').on('click', function (args) {
        // 1. 利用FormData内置对象
        let formDateObj = new FormData();
        // 2. 添加普通的键值对
        formDateObj.append('username', $('#id_username').val());
        formDateObj.append('password', $('#id_password').val());
        // 3. 添加文件对象
        formDateObj.append('myfile', $('#id_file')[0].files[0]);

        // 4. 将对象基于Ajax发送给后端
        $.ajax({
            url: '',
            type: 'post',
            data: formDateObj,  // 直接将对象放在data后面即可
            // Ajax发送文件必须要指定的两个参数
            contentType: false,  // 不需要使用任何编码, Django后端能自动识别form-data对象
            processData: false,  // 告诉浏览器不要对数据进行任何处理

            success: function (args) {
                console.log(args)
            }
        })
    })
</script>

</body>
</html>